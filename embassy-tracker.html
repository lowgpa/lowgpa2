<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Islamabad Embassy Appointment Tracker - LowGPA to Germany</title>
    <meta name="description"
        content="Track Islamabad Embassy appointment applicant status and timeline. Real-time updates from community data.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
    <link rel="icon" type="image/png" sizes="192x192" href="images/favicon-192x192.png">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .container {
            width: 90% !important;
            /* 90% width = 5% margin on left and right */
            max-width: none !important;
            /* Allow full fluid width on all screens */
            margin: 0 auto !important;
            padding: 0 !important;
        }

        @media (max-width: 768px) {
            .container {
                padding: 0 1.5rem !important;
            }
        }

        .tracker-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            margin-bottom: 2rem;
            padding: 0;
            /* Align with content */
            background: transparent;
            /* Remove box look */
            border: none;
            box-shadow: none;
        }

        .category-tabs {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
            align-items: center;
        }

        .tab-btn {
            padding: 0.6rem 1.2rem;
            border: 1px solid var(--border-light);
            background: var(--bg-body);
            border-radius: var(--radius-md);
            cursor: pointer;
            font-size: 0.95rem;
            font-weight: 500;
            color: var(--text-secondary);
            transition: all 0.2s;
        }

        .tab-btn:hover {
            border-color: var(--accent-primary);
            color: var(--accent-primary);
        }

        .tab-btn:active {
            transform: scale(0.96);
        }

        .tab-btn.active {
            background: var(--accent-primary);
            color: white;
            border-color: var(--accent-primary);
        }

        .stats-badge {
            background: #F0FDF4;
            color: #15803D;
            border: 1px solid #BBF7D0;
            padding: 0.5rem 1rem;
            border-radius: var(--radius-md);
            font-weight: 600;
            font-size: 0.95rem;
        }

        /* Modern Table Styles */
        .table-container {
            width: 100%;
            overflow-x: auto;
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            background: var(--bg-surface);
        }

        .app-table {
            width: 100%;
            border-collapse: separate;
            border-spacing: 0;
            font-size: 0.95rem;
            white-space: nowrap;
        }

        .app-table th {
            text-align: left;
            padding: 1rem;
            /* Reduced vertical padding slightly for better balance */
            background: white;
            /* Match container background */
            border-bottom: 2px solid var(--border-light);
            color: var(--text-secondary);
            font-weight: 600;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.05em;
            position: sticky;
            top: 0;
            z-index: 5;
        }

        .table-container {
            /* Unify Table Look with Stats & Controls */
            background: var(--bg-surface);
            padding: 2.5rem;
            /* Increased Margin inside the container */
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
            margin-bottom: 2rem;
            width: 100%;
            overflow-x: auto;
        }

        .app-table td {
            padding: 1.25rem 1rem;
            border-bottom: 1px solid var(--border-light);
            color: var(--text-primary);
            transition: background 0.15s;
        }

        .app-table tr:last-child td {
            border-bottom: none;
        }

        .app-table tr:hover td {
            background-color: #F1F5F9;
            /* Slate 100 */
        }

        .status-cell {
            font-weight: 500;
        }

        /* Status Badges */
        .status-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .status-badge.has-date {
            background-color: #DCFCE7;
            color: #166534;
        }

        .status-badge.no-date {
            color: var(--text-muted);
            opacity: 0.5;
        }

        .status-badge.correction {
            background-color: #FEF3C7;
            color: #92400E;
        }

        /* Responsive Mobile View - Card Layout */
        @media (max-width: 768px) {

            .app-table,
            .app-table tbody,
            .app-table tr,
            .app-table td {
                display: block;
                width: 100%;
            }

            .app-table thead {
                display: none;
                /* Hide header on mobile */
            }

            /* Increased Specificity for Mobile */
            body .app-table tr {
                margin-bottom: 1.5rem !important;
                background: #fff !important;
                border: 1px solid var(--border-light) !important;
                border-radius: 16px !important;
                padding: 1.25rem !important;
                position: relative !important;
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03) !important;
                display: block !important;
            }

            /* FIX: Reset styles for Date Header rows so they don't look like cards */
            body .app-table tr.date-header {
                background: transparent !important;
                border: none !important;
                box-shadow: none !important;
                padding: 0 !important;
                margin-bottom: 0.5rem !important;
                margin-top: 1rem !important;
            }

            body .app-table tr.date-header td {
                background: transparent !important;
                border: none !important;
                padding: 0.5rem !important;
                text-align: center !important;
                display: flex !important;
                justify-content: center !important;
                width: 100% !important;
                color: var(--text-muted) !important;
                font-weight: 600 !important;
            }

            /* Hide the watermark and other card-specific elements for date header if they exist */
            body .app-table tr.date-header td:first-child {
                position: static !important;
                font-size: 1rem !important;
                width: auto !important;
                opacity: 1 !important;
                color: var(--text-muted) !important;
            }

            body .app-table td {
                padding: 0.75rem 0 !important;
                border-bottom: 1px solid #f1f5f9 !important;
                display: flex !important;
                justify-content: space-between !important;
                align-items: center !important;
                text-align: right !important;
                width: 100% !important;
            }

            body .app-table td:last-child {
                border-bottom: none !important;
                padding-bottom: 0 !important;
            }

            body .app-table td::before {
                content: attr(data-label);
                float: left;
                font-weight: 600;
                color: var(--text-secondary);
                font-size: 0.85rem;
                margin-right: 1rem;
            }

            /* Name Header */
            body .app-table td:nth-child(2) {
                border-bottom: none !important;
                margin-bottom: 0 !important;
                padding-bottom: 0.25rem !important;
                padding-top: 0 !important;
                font-weight: 700 !important;
                color: var(--text-primary) !important;
                font-size: 1.25rem !important;
                display: block !important;
                text-align: left !important;
                position: relative !important;
                z-index: 1 !important;
            }

            body .app-table td:nth-child(2)::before {
                display: none !important;
            }

            /* Time Subtitle */
            body .app-table td:nth-child(3) {
                border-bottom: 1px solid var(--border-light) !important;
                margin-bottom: 1rem !important;
                padding-top: 0 !important;
                padding-bottom: 1rem !important;
                font-size: 0.85rem !important;
                color: var(--text-muted) !important;
                display: block !important;
                text-align: left !important;
                font-weight: 500 !important;
            }

            body .app-table td:nth-child(3)::before {
                content: "Joined at " !important;
                font-weight: 400 !important;
            }

            /* Counter Watermark - Only apply to FIRST child of NORMAL rows (not date header) */
            body .app-table tr:not(.date-header) td:first-child {
                position: absolute !important;
                top: 0.75rem !important;
                right: 1.25rem !important;
                border: none !important;
                width: auto !important;
                padding: 0 !important;
                font-size: 3.5rem !important;
                font-weight: 900 !important;
                color: #F1F5F9 !important;
                opacity: 1 !important;
                pointer-events: none !important;
                justify-content: flex-end !important;
                z-index: 0 !important;
                line-height: 1 !important;
                font-family: 'Inter', sans-serif !important;
            }

            body .app-table td:first-child::before {
                display: none !important;
            }
        }

        .loading-state {
            padding: 4rem;
            text-align: center;
            color: var(--text-muted);
        }

        /* Modal Styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.2s;
            backdrop-filter: blur(4px);
        }

        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }

        .modal-content {
            background: var(--bg-surface);
            width: 95%;
            max-width: 1000px;
            max-height: 90vh;
            border-radius: var(--radius-lg);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            border: 1px solid var(--border-light);
        }

        .modal-header {
            padding: 1.5rem;
            border-bottom: 1px solid var(--border-light);
            display: flex;
            justify-content: space-between;
            align-items: center;
            background: var(--bg-body);
        }

        .modal-body {
            padding: 1.5rem;
            overflow-y: auto;
        }

        .summary-block {
            margin-bottom: 2rem;
            padding: 1rem;
            background: var(--bg-body);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-light);
        }

        .summary-date {
            font-size: 0.9rem;
            font-weight: 700;
            color: var(--text-muted);
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 2px solid var(--border-light);
            padding-bottom: 0.25rem;
            display: block;
            margin-top: 1.5rem;
        }

        .summary-item {
            display: flex;
            gap: 0.75rem;
            margin-bottom: 0.75rem;
            font-size: 0.95rem;
            padding: 0.75rem;
            background: var(--bg-body);
            border-radius: 6px;
            border: 1px solid var(--border-light);
            align-items: center;
        }

        .badge-update {
            font-size: 0.75rem;
            padding: 4px 8px;
            border-radius: 4px;
            font-weight: 700;
            height: fit-content;
            white-space: nowrap;
        }

        .badge-update.sub {
            background: #DBEAFE;
            color: #1E40AF;
        }

        .badge-update.corr {
            background: #FEF3C7;
            color: #92400E;
        }

        .badge-update.app {
            background: #DCFCE7;
            color: #166534;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1rem;
            margin-top: 0.5rem;
        }

        .stat-item {
            padding: 1rem;
            border-radius: 8px;
            text-align: center;
            font-size: 0.95rem;
            display: flex;
            flex-direction: column;
            gap: 0.25rem;
            align-items: center;
            justify-content: center;
            font-weight: 500;
        }

        .stat-item strong {
            font-size: 1.2rem;
            display: block;
        }

        .stat-total {
            background: var(--text-primary);
            color: var(--bg-body);
            padding: 0.5rem 1rem;
            border-radius: 6px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        @media (max-width: 768px) {
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }

        .btn-summary {
            background: var(--accent-primary);
            color: white;
            border: none;
            padding: 0.6rem 1.2rem;
            border-radius: var(--radius-md);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
        }

        .btn-summary:hover {
            background: var(--accent-secondary);
            transform: translateY(-1px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        .btn-summary:active {
            transform: scale(0.96);
        }

        /* Dark mode tweaks if necessary */
        @media (prefers-color-scheme: dark) {
            .btn-summary {
                box-shadow: none;
            }
        }

        /* New Stats Tile Styles */
        /* Unified Container Styles */
        .stats-summary-container,
        .tracker-controls,
        .table-container {
            width: 100%;
            margin-bottom: 2rem;
            background: var(--bg-surface);
            padding: 2rem 5% !important;
            /* Fixed 5% internal margin/padding */
            border-radius: var(--radius-lg);
            border: 1px solid var(--border-light);
            box-shadow: var(--shadow-sm);
        }

        .tracker-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .stats-summary-container {
            margin-top: 1rem;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .table-container {
            overflow-x: auto;
        }

        .stat-card {
            background: #F8FAFC;
            /* Slight contrast inside the white container */
            border: 1px solid var(--border-light);
            border-radius: var(--radius-md);
            /* Slightly smaller radius for inner items */
            padding: 1.25rem;
            display: flex;
            align-items: center;
            gap: 1.25rem;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card:hover {
            transform: translateY(-2px);
            border-color: var(--accent-primary);
            background: #FFFFFF;
            box-shadow: var(--shadow-sm);
        }

        .stat-icon-wrapper {
            width: 48px;
            height: 48px;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            flex-shrink: 0;
            transition: transform 0.3s ease;
        }

        .stat-card:hover .stat-icon-wrapper {
            transform: scale(1.05);
        }

        .stat-content h4 {
            margin: 0 0 0.25rem 0;
            font-size: 0.8rem;
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        .stat-content .stat-value {
            font-size: 1.75rem;
            font-weight: 800;
            color: var(--text-primary);
            line-height: 1.1;
            letter-spacing: -0.02em;
        }

        .stat-content .stat-meta {
            font-size: 0.85rem;
            color: var(--text-secondary);
            margin-top: 4px;
            font-weight: 500;
        }

        @media (max-width: 900px) {
            .stats-summary-container {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                gap: 1rem;
            }
        }

        /* Wait Time Badge */
        .wait-time-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            font-size: 0.75rem;
            font-weight: 600;
            background: #F3F4F6;
            color: #4B5563;
            padding: 2px 8px;
            border-radius: 12px;
            margin-left: 8px;
            border: 1px solid #E5E7EB;
        }

        .wait-time-badge.long {
            background: #FEF3C7;
            color: #92400E;
            border-color: #FCD34D;
        }

        .wait-time-badge.short {
            background: #ECFDF5;
            color: #047857;
            border-color: #6EE7B7;
        }

        /* Date Header Count */
        .date-header-count {
            display: inline-block;
            background: var(--bg-surface);
            border: 1px solid var(--border-light);
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            color: var(--text-muted);
            font-weight: 500;
            margin-left: 0.5rem;
        }

        /* Skeleton Loading Animation */
        @keyframes shimmer {
            0% {
                background-position: -1000px 0;
            }

            100% {
                background-position: 1000px 0;
            }
        }

        .skeleton {
            background: #f6f7f8;
            background-image: linear-gradient(to right, #f6f7f8 0%, #edeef1 20%, #f6f7f8 40%, #f6f7f8 100%);
            background-repeat: no-repeat;
            background-size: 1000px 100%;
            animation: shimmer 2s infinite linear;
            border-radius: 4px;
            color: transparent !important;
        }

        .skeleton-text {
            height: 1em;
            width: 80%;
            margin-bottom: 0.5rem;
        }

        .skeleton-card {
            height: 100px;
        }

        .skeleton-row {
            height: 60px;
        }

        /* Fade In Stagger */
        @keyframes fadeInUpSmall {
            from {
                opacity: 0;
                transform: translateY(10px);
            }

            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUpSmall 0.4s ease-out forwards;
        }

        .delay-1 {
            animation-delay: 0.1s;
        }

        .delay-2 {
            animation-delay: 0.2s;
        }

        .delay-3 {
            animation-delay: 0.3s;
        }

        /* Stats Progress Bar */
        .progress-bg {
            width: 100%;
            height: 6px;
            background: #F1F5F9;
            border-radius: 99px;
            margin-top: 12px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            border-radius: 99px;
            width: 0;
            /* JS sets this, but animation handles visual */
            animation: progressGrow 1.5s cubic-bezier(0.4, 0, 0.2, 1) forwards;
        }

        @keyframes progressGrow {
            from {
                width: 0;
            }
        }
    </style>
</head>

<body>

    <header class="site-header glass">
        <div class="container nav-container">
            <a href="index.html" class="logo">LowGPA<span style="color:var(--text-primary)"> to Germany</span></a>
            <nav class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="de/index.html" class="nav-link">Germany</a>
                <a href="community.html" class="nav-link">Connect</a>
                <a href="resources.html" class="nav-link">Resources</a>
            </nav>
        </div>
    </header>

    <main>
        <section class="section hero">
            <div class="container text-center">
                <div class="badge" style="background: #ECFDF5; color: #047857; border: 1px solid #A7F3D0;">üáµüá∞
                    Islamabad Embassy</div>
                <h1>Appointment Tracker</h1>
                <p>
                    Community-driven tracking for student visa appointments. Select your application perioid to see the
                    latest status.
                </p>
            </div>
        </section>

        <section class="section" style="padding-top: 0;">
            <div class="container">

                <!-- Controls -->
                <div class="tracker-controls fade-in">
                    <div class="category-tabs">
                        <button class="tab-btn active" onclick="loadCategory('july25')">July 2025</button>
                        <button class="tab-btn" onclick="loadCategory('augOct25')">Aug - Oct 2025</button>
                        <button class="tab-btn" onclick="loadCategory('novDec25')">Nov - Dec 2025</button>
                        <button class="tab-btn" onclick="loadCategory('janFeb26')">Jan - Feb 2026</button>
                    </div>

                    <div>
                        <button onclick="openSummaryModal()" class="btn-summary">
                            <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24"
                                fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                stroke-linejoin="round">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                                <line x1="12" y1="8" x2="12" y2="16"></line>
                                <line x1="8" y1="8" x2="8" y2="16"></line>
                                <line x1="16" y1="8" x2="16" y2="16"></line>
                            </svg>
                            Weekly Summary
                        </button>

                    </div>
                </div>
            </div>

            <!-- Stats Dashboard -->
            <div id="overall-stats-container" class="fade-in"></div>

            <!-- Table -->
            <div class="table-container fade-in">
                <table class="app-table">
                    <thead>
                        <tr>
                            <th style="width: 40px; text-align: center; color: var(--text-muted);">#</th>
                            <th>Name</th>
                            <th>Time</th>
                            <th>Got Submission</th>
                            <th>Submitted</th>
                            <th>Correction</th>
                            <th>Appointment</th>
                        </tr>
                    </thead>
                    <tbody id="tracker-body">
                        <!-- Rows will be populated by JS -->
                    </tbody>
                </table>

                <div id="loading-indicator" class="loading-state">
                    <div class="loader-circle" style="margin: 0 auto 1rem; width: 30px; height: 30px;"></div>
                    Fetching latest data...
                </div>
            </div>

            <p class="text-center"
                style="margin-top: 2rem; color: var(--text-muted); font-size: 0.85rem; max-width: 800px; margin-left: auto; margin-right: auto; line-height: 1.5;">
                <em>*Data is sourced from community spreadsheets and collected from many students. Note that many
                    applications are not shared, so this is an estimation and not an official record. Inaccuracies may
                    exist. Times are in PKT.</em>
            </p>

            </div>
        </section>
    </main>

    <!-- Weekly Summary Modal -->
    <div class="modal-overlay" id="summaryModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="summary-title" style="margin:0">Weekly Activity Report</h3>
                <button onclick="document.getElementById('summaryModal').classList.remove('active')"
                    style="background:none; border:none; font-size:1.5rem; cursor:pointer; color:var(--text-muted)">&times;</button>
            </div>
            <div class="modal-body" id="summary-content">
                <!-- Content injected by JS -->
            </div>
        </div>
    </div>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-left">
                    <div class="logo" style="font-size: 1.2rem;">LowGPA to Germany</div>
                    <p class="copyright">¬© 2026 LowGPA to Germany. All Rights Reserved.</p>
                    <p class="built-with">Built with ‚ù§Ô∏è in Pakistan üáµüá∞</p>
                </div>
                <div class="footer-right">
                    <div class="footer-links">
                        <a href="about.html">About</a>
                        <a href="disclaimer.html">Disclaimer</a>
                        <a href="community.html">Connect</a>
                    </div>
                    <a href="mailto:info@lowgpa.online" class="footer-email">info@lowgpa.online</a>
                </div>
            </div>
        </div>
    </footer>



    <script src="js/embassy-tracker.js"></script>
</body>

</html>